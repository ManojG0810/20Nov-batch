This is the second version of code